{"version":3,"file":"/server/views/serverFile.coffee.js","sources":["serverFile.coffee"],"names":[],"mappings":";AAEA;;GAAQ,EAAR,EAAQ;;AACR,CADA,EACa,QAAb;CACQ,IAAN;CACE;GAAW,CAAX,CAAuB,CAAN,EAAjB;GACW,CAAX,EADA,EACA;CACC,CAAgB,EAAjB,KAAkB,EAAlB;CACE;GAAiB,GAAjB,EAAyB,MAAzB;GACoB,GAApB,CADA,CAC4B,SAA5B;CADA,EAEiB,EAAK,CAAtB;CAA4B,CAAS,IAAR,QAAD;EAA+B,EAA/B,CAAyB;CAAY,IAAhD;CAFjB,EAGA,IAAO,UAAP;CACA,EAAqB,CAAjB,EAAJ,CAA0B,OAAtB;CAAqC,CAAS,IAAR,QAAD;CAAyB,OAAxC,CAA1B;CACC,EAAY,EAAK,GAAjB;CAAuB,CAAS,IAAR,QAAD;EAA+B,EAA/B,CAAyB;EAAa,QAAjD;CAAiD,CAAO,EAAN;CAAM,CAAS,IAAR;WAAR;CAAoB,IAArE;CAAZ,EACkB,CAAI,CAAJ,CAAW,EAA7B,MAAkB,CAAlB;CADA,EAEW,CAFX,CAEW,GAAX,CAAqB;CACf,GAAN,CAAK,UAAL;CACE;EACM,EAAN,uBADA;EAES,KAAT,QAFA;EAGM,EAAN,IAHA,EAGA;CARH,SAIC;OATc;CAAjB,IAAiB;CAHnB,EAAM;CADK,CAmBV,MAnBH;A","sourcesContent":["\n\nFiber = Npm.require(\"fibers\")\nsetInterval (->\n  Fiber(->\n    allUsers = Meteor.users.find().fetch()\n    userData = undefined\n    _.each allUsers, (userData) ->\n      userIDFromLoop = userData._id\n      userEmailFromLoop = userData.emails[0].address\n      emailNoteCount = Notes.find({userID: userIDFromLoop, email:true}).count()\n      console.log userEmailFromLoop\n      if (emailNoteCount > 0 && Emails.findOne({userID: userIDFromLoop}).emailUser)\n      \temailNote = Notes.find({userID: userIDFromLoop, email:true}, {sort: {folder: 1}}).fetch()\n      \trandomNoteIndex = Math.floor(Math.random() * emailNoteCount)\n      \ttextSend = emailNote[randomNoteIndex].folder + \" - \" + emailNote[randomNoteIndex].section + \" - \" + emailNote[randomNoteIndex].note\n      \tEmail.send\n        \tto: userEmailFromLoop\n        \tfrom: \"yournote@remembernote.com\"\n        \tsubject: \"Remember Note\"\n        \ttext: textSend\n    ).run()\n), 43200000\n"]}